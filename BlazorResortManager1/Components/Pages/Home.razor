@page "/"
@attribute [Authorize]
@inject NavigationManager NavManager
@inject AuthenticationStateProvider authStateProvider

<PageTitle>Home</PageTitle>

Welcome to your new app.
@userId
 <AuthorizeView>
     <Authorized>
         welcome @context.User.FindFirst(e => e.Type == ClaimTypes.Name)?.Value
     </Authorized>
     <Authorizing>
         authorizing...
     </Authorizing>
     <NotAuthorized>
         not authorized
     </NotAuthorized>
 </AuthorizeView>

<h1 class="text-1xl hover:bg-amber-200 hover:font-bold">
    Hello world!
</h1>


@code{

    [CascadingParameter]
    private Task<AuthenticationState> authenticationState { get; set; }

    private string name { get; set; }
    private string userId;

    protected override async Task OnInitializedAsync(){
        var authState = await authenticationState;
        var user = authState.User;

        if (user.Identity.IsAuthenticated)
        {
            userId = user.FindFirst(c => c.Type == ClaimTypes.NameIdentifier)?.Value;
        }
    }
}